% analysis of data for Letizia' dsruption experiment.clear all;numSub = 800;filetomake = input('name the fixation results file: ', 's');F2ID = fopen(filetomake, 'a');fprintf(F2ID, 'subNum\t trialNo\t fixNo\t xFix\t yFix\t fixStartTime\t fixEndTime\n');condition = 'dis';for subNo=1:numSub            condition = 'dline';              filetoread = strcat(condition, num2str(subNo),'.asc'); % name of search data file to read        if (fopen(filetoread, 'r')~=-1)            FID=fopen(filetoread, 'r');            trialRunning = 0;            endtrialRun = 0;            trialCount = 0;            sacOnTime = 0;            numFix = 0;            targSide = 'x';            easySide = 'x';            fileRun = 1;            s=0;            xPos=zeros(1,70);            yPos=zeros(1,70);            RT=0;            efix =0;            trialStartTime=0;                        while fileRun                line=fgetl(FID); %get the next line of data                                if line == -1  % if the end of the file has been reached                    fclose(FID);                    fileRun = 0; %leave the main loop                    break;                end                               if findstr(line, 'TRIAL_START')                    trialCount=trialCount+1;                    numFix = 0;                    trialStartTime= str2num(line(strfind(line, 'MSG')+3:strfind(line, 'T')-1))                                        s=1;                    xPos=zeros(1,70);                    xPosFlip=zeros(1,70);                    yPos=zeros(1,70);                    targSide = 'x';                    easySide = 'x';                    disruption= 'x';                    trialRunning =1; %start loop to get timing / saccade info from trial;                    RT=0;                end                                if findstr(line, 'EFIX')                     efix = str2num(line(10:length(line)));                    numFix= numFix+1;                    xPos(1,numFix)=round(efix(4));                    yPos(1,numFix)=round(efix(5));                    fixStartT(1,numFix)=round(efix(1))-trialStartTime;                    fixEndT(1,numFix)=round(efix(2))-trialStartTime;                end                                               if findstr(line, 'TRIAL_END')                                           for s=1:numFix                    fprintf(F2ID, ' %d\t %d\t %d\t %d\t %d\t %d\t %d\n', subNo,trialCount, s, round(xPos(1,s)), round(yPos(1,s)),fixStartT(1,s), fixEndT(1,s));                                              end                end            end        end       end   fclose(F2ID);                                                                                 